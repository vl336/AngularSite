<div class="container pb-3">
    <h2>Register</h2>
    <form>
        <div class="form-group">
            <label for="email">Email</label>
            <input required ngModel #email="ngModel" type="text" name="email" id="email" class="form-control"/>
        </div>
        <div class="alert alert-danger"
             *ngIf="email.touched && (email.hasError('required') || !email.value.includes('@'))">
            Email is required
        </div>
        <div class="form-group">
            <label for="password">Password</label>
            <input required ngModel #password="ngModel" name="password" type="password" id="password" class="form-control"/>
        </div>
        <div class="form-group">
            <label for="cPassword">Confirm password</label>
            <input ngModel #cPassword="ngModel" name="cPassword" type="password" id="cPassword" class="form-control"/>
        </div>
        <div class="alert alert-danger" *ngIf="(password.invalid || cPassword.value != password.value) && password.touched">
            <div *ngIf="password.touched && password.hasError('required')">
                Password is required</div>
            <div *ngIf="password.touched && cPassword.touched && cPassword.value != password.value">
                Passwords do not match</div>
        </div>
        <div class="form-group">
            <button [disabled]="loading" class="btn btn-primary" (click)="register(email.value, password.value)">
                <span *ngIf="loading" class="spinner-border spinner-border-sm mr-1"></span>
                Register
            </button>
            <a routerLink="/login" class="btn btn-link">Login</a>
        </div>
        <div class="alert alert-danger" *ngIf="hasError">Email or password is incorrect</div>
    </form>
</div>